<!DOCTYPE html>
<html lang="pt-BR">

<head>
	<!-- Metadados B√°sicos e SEO -->
	<meta charset="UTF-8" />
	<meta name="description" content="Ferramenta online para registro de pensamentos disfuncionais (RPD). Uma t√©cnica da Terapia Cognitivo-Comportamental para identificar e reestruturar pensamentos autom√°ticos negativos." />
	<meta name="keywords" content="RPD, pensamentos disfuncionais, TCC, registro de pensamentos, terapia cognitivo comportamental" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<!-- Open Graph -->
	<meta property="og:title" content="Registro de Pensamentos Disfuncionais (RPD)" />
	<meta property="og:description" content="Uma ferramenta online para registro de pensamentos disfuncionais." />
	<meta property="og:image" content="https://i.pinimg.com/736x/80/01/42/8001428bb2c23959bb0c8a8a27e01fa2.jpg" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://ricmurtapsicologia.github.io/RPD/" />
	<title>Registro de Pensamentos Disfuncionais (RPD) - Landing Page</title>
	<!-- Favicon -->
	<link rel="icon" href="https://i.pinimg.com/736x/80/01/42/8001428bb2c23959bb0c8a8a27e01fa2.jpg" />
	<!-- Bibliotecas JS (carregadas de forma defer para melhor performance) -->
	<script defer src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
	<script defer src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.1/gsap.min.js"></script>
	<!-- Estilos (Mobile-First) com vari√°veis para facilitar manuten√ß√£o -->
	<style>
		:root {
		  --primary-color: #006400;
		  --primary-hover: #004d00;
		  --bg-color: #fff;
		  --text-color: #333;
		  --splash-bg: #02848b;
		  --box-bg: rgba(255, 255, 255, 0.9);
		  --box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
		  --border-radius: 18px;
		  --transition-duration: 0.3s;
		}
		
		/* Reset e transi√ß√µes */
		*,
		*::before,
		*::after {
		  box-sizing: border-box;
		  transition: all var(--transition-duration) ease-in-out;
		}
		html {
		  scroll-behavior: smooth;
		}
		body {
		  margin: 0;
		  padding: 0;
		  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
		  color: var(--text-color);
		  background-color: var(--bg-color);
		  overflow-x: hidden;
		}
		p {
		  text-align: justify;
		}
		
		/* Splash Screen */
		#splash-screen {
		  position: fixed;
		  top: 0;
		  left: 0;
		  width: 100vw;
		  height: 100vh;
		  background-color: var(--splash-bg);
		  z-index: 9999;
		  display: flex;
		  flex-direction: column;
		  justify-content: center;
		  align-items: center;
		  text-align: center;
		  color: #fff;
		  padding: 20px;
		}
		#splash-screen.fade-out {
		  opacity: 0;
		  transition: opacity 1s ease;
		}
		#splash-screen h1 {
		  font-size: 2rem;
		  margin-bottom: 10px;
		}
		#splash-screen p {
		  font-size: 1.25rem;
		  margin: 0;
		}
		
		/* Banner */
		header {
		  width: 100%;
		  min-height: 500px;
		  background: url("https://i.pinimg.com/736x/fd/eb/6b/fdeb6b12e0f52dfc2e75baba8d0c65df.jpg")
		    no-repeat center;
		  background-position: center 10%;
		  background-size: cover;
		  background-color: var(--bg-color);
		}
		
		/* Se√ß√£o Principal */
		main {
		  width: 90%;
		  max-width: 900px;
		  margin: 20px auto 40px;
		}
		
		/* Se√ß√µes e conte√∫do expans√≠vel */
		.explicacao-section,
		.form-rpd,
		.converse-section {
		  background-color: var(--box-bg);
		  box-shadow: var(--box-shadow);
		  border-radius: var(--border-radius);
		  backdrop-filter: blur(10px);
		  padding: 20px;
		  margin-bottom: 30px;
		}
		.expansible-row {
		  display: flex;
		  flex-wrap: wrap;
		  gap: 20px;
		  justify-content: center;
		}
		.expansible-section {
		  flex: 1 1 260px;
		  display: flex;
		  align-items: center;
		  justify-content: center;
		}
		
		/* Bot√µes unificados: dimens√µes e forma fixas */
		button {
		  background-color: var(--primary-color);
		  color: #fff;
		  border: none;
		  border-radius: 10px;
		  font-size: 1rem;
		  cursor: pointer;
		  display: inline-flex;
		  align-items: center;
		  justify-content: center;
		  gap: 8px;
		  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
		  width: 270px; /* Largura fixa baseada no maior bot√£o */
		  height: 48px; /* Altura fixa */
		  padding: 0;   /* Removendo padding para manter as dimens√µes */
		  text-align: center;
		  transition: all var(--transition-duration) ease-in-out;
		}
		button:hover {
		  background-color: var(--primary-hover);
		  transform: scale(1.03);
		}
		
		/* Cont√™iner para centralizar os bot√µes (RPD) */
		.submit-buttons-container {
		  display: flex;
		  justify-content: center;
		  flex-wrap: wrap;
		  gap: 1rem;
		  margin: 20px 0;
		}
		.submit-btn {
		  flex: 1 1 auto;
		  max-width: 270px;
		  text-align: center;
		}
		
		/* Conte√∫do expans√≠vel */
		.expansible-content {
		  display: none;
		  margin-top: 15px;
		  padding: 10px;
		  border-left: 4px solid var(--primary-color);
		  background-color: var(--box-bg);
		  border-radius: 5px;
		}
		.expansible-content p,
		.expansible-content iframe {
		  width: 100%;
		}
		
		/* V√≠deo em grid */
		.video-grid {
		  display: grid;
		  place-items: center;
		  margin-top: 15px;
		}
		.video-grid iframe {
		  width: 100%;
		  max-width: 560px;
		  height: 315px;
		  border: none;
		  border-radius: 5px;
		}
		
		/* √çcone de √°udio */
		.audio-icon {
		  fill: #ffd700;
		  width: 24px;
		  height: 24px;
		  animation: blink 1.5s infinite;
		  transition: transform 0.2s;
		}
		@keyframes blink {
		  0%, 100% { opacity: 1; }
		  50% { opacity: 0.5; }
		}
		
		/* Inputs e formul√°rios */
		.form-rpd label,
		.converse-section label {
		  font-weight: bold;
		  margin-bottom: 10px;
		  display: block;
		}
		.form-rpd input[type="text"],
		.form-rpd input[type="date"],
		.form-rpd select,
		.converse-section input,
		.converse-section textarea {
		  width: 100%;
		  padding: 12px;
		  margin-bottom: 20px;
		  border: 2px solid #ccc;
		  border-radius: var(--border-radius);
		  font-size: 1rem;
		  outline: none;
		}
		.form-rpd input:focus,
		.form-rpd select:focus,
		.converse-section input:focus,
		.converse-section textarea:focus {
		  border-color: #5b9bd5;
		  box-shadow: 0 0 8px rgba(91, 155, 213, 0.5);
		}
		.slider {
		  -webkit-appearance: none;
		  appearance: none;
		  width: 100%;
		  height: 25px;
		  background: #ddd;
		  border-radius: 18px;
		  overflow: hidden;
		  margin-bottom: 10px;
		}
		.slider::-webkit-slider-runnable-track,
		.slider::-moz-range-track {
		  background: linear-gradient(to right, green 0%, yellow 50%, red 100%);
		  height: 100%;
		}
		.slider-value {
		  font-size: 1rem;
		  vertical-align: middle;
		  margin-left: 8px;
		}
		
		/* Bot√£o "Escolher Emo√ß√µes" centralizado */
		.btn-emocoes {
		  margin: 0 auto 10px;
		  display: block;
		  text-align: center;
		}
		
		/* Centralizar o bot√£o "Enviar Mensagem" no chat-form */
		#chat-form button {
		  margin: 0 auto;
		  display: block;
		  max-width: 270px;
		}
		
		/* Rodap√© */
		footer {
		  display: flex;
		  flex-direction: column;
		  align-items: center;
		  justify-content: center;
		  gap: 0.5rem;
		  margin: 50px auto 30px;
		  padding: 20px 10px;
		  background-color: rgba(0, 0, 0, 0.7);
		  color: #fff;
		  font-size: 0.875rem;
		  border-radius: 10px;
		  width: 90%;
		  max-width: 900px;
		}
		
		/* Bot√µes Flutuantes */
		.floating-whatsapp,
		.floating-panic {
		  position: fixed;
		  z-index: 9998;
		  width: 50px;
		  height: 50px;
		  border-radius: 50%;
		  display: flex;
		  justify-content: center;
		  align-items: center;
		  font-size: 24px;
		  color: #fff;
		  cursor: pointer;
		}
		.floating-whatsapp {
		  bottom: 80px;
		  left: 20px;
		  background-color: #25d366;
		  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
		}
		.floating-panic {
		  bottom: 80px;
		  right: 20px;
		  background-color: #ff0000;
		  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
		}
		
		/* √Åudio Fixo */
		#audio-container {
		  position: fixed;
		  bottom: 20px;
		  right: 20px;
		  z-index: 9999;
		}
		#toggle-audio {
		  background: rgba(255, 255, 255, 0.8);
		  border: none;
		  /* Dimens√µes fixas para o bot√£o ficar circular */
		  width: 48px;
		  height: 48px;
		  padding: 0;
		  border-radius: 50%;
		  /* Alinhamento central do √≠cone */
		  display: inline-flex;
		  align-items: center;
		  justify-content: center;
		  cursor: pointer;
		}
		#toggle-audio:hover {
		  background: rgba(255, 255, 255, 1);
		}
		.audio-icon {
		  fill: #ffd700;
		  width: 24px;
		  height: 24px;
		  animation: blink 1.5s infinite;
		  transition: transform 0.2s;
		}
		.audio-icon:hover {
		  transform: scale(1.1);
		}
		
		/* Responsividade */
		@media (min-width: 768px) {
		  .expansible-row {
		    justify-content: space-between;
		  }
		}
		@media (min-width: 992px) {
		  button {
		    max-width: 270px;
		  }
		}
		@media (max-width: 576px) {
		  header {
		    /* Reduza a altura para caber melhor em telas menores */
		    min-height: 300px; 
		    /* Ajuste a posi√ß√£o conforme desejar (por exemplo, top center) */
		    background-position: top center;
		    /* Mantenha ou ajuste se quiser que apare√ßa mais da imagem */
		    background-position: left center;
                    /* Se desejar, ajuste a altura tamb√©m:
                    min-height: 280px; */
                    }
                    }

		
	</style>
</head>

<body>
	<!-- Splash Screen -->
	<div id="splash-screen" role="alert" aria-live="assertive">
		<h1>Seja bem-vindo(a) ao Registro de Pensamentos Disfuncionais</h1>
		<p>Aguarde... mas estou com voc√™ aqui!</p>
	</div>
	<!-- Banner -->
	<header></header>
	<!-- Conte√∫do Principal -->
	<main>
		<!-- Se√ß√£o de Explica√ß√µes -->
		<section class="explicacao-section">
			<div class="expansible-row">
				<!-- Bot√£o RPD -->
				<div class="expansible-section">
					<button class="expansible-button" id="btn-rpd"> O que √© RPD? </button>
				</div>
				<!-- Bot√£o √Åudio Explicativo -->
				<div class="expansible-section">
					<button class="audio-button" id="btn-audio">
						<svg class="audio-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
							<path d="M11.536 14.01a.5.5 0 0 0 .707.038A8.004 8.004 0 0 0 16 8a8.003 8.003 0 0 0-3.757-6.912.5.5 0 0 0-.63.776A7.002 7.002 0 0 1 15 8a7.003 7.003 0 0 1-3.086 5.796.5.5 0 0 0-.038.707z"></path>
							<path d="M8 5.993c-.147 0-.293.054-.414.162L5.825 7.44H4.5A1.5 1.5 0 0 0 3 8.993v1c0 .828.672 1.5 1.5 1.5h1.325l1.761 1.285c.12.107.266.161.414.161.337 0 .586-.252.586-.583V6.576c0-.331-.25-.583-.586-.583z"></path>
						</svg>
						<span>√Åudio Explicativo</span>
					</button>
					<audio id="audioRPD">
						<source src="https://raw.githubusercontent.com/ricmurtapsicologia/RPD/main/RPD1.mp3" type="audio/mpeg" /> Seu navegador n√£o suporta √°udio.
					</audio>
				</div>
				<!-- Bot√£o Distor√ß√µes Cognitivas -->
				<div class="expansible-section">
					<button class="expansible-button" id="btn-distorcoes"> Distor√ß√µes Cognitivas </button>
				</div>
			</div>
			<!-- Conte√∫do Expans√≠vel: RPD -->
			<div id="rpd-expansion" class="expansible-content">
				<p> O Registro de Pensamentos Disfuncionais (RPD) √© uma t√©cnica da Terapia Cognitivo-Comportamental (TCC) que ajuda a identificar e reestruturar pensamentos autom√°ticos negativos. Preencher o RPD torna mais claro como esses pensamentos influenciam as emo√ß√µes e o comportamento, levando a uma perspectiva mais equilibrada. </p>
				<div class="video-grid">
					<iframe src="https://www.youtube.com/embed/qp8VUlVqooI" allowfullscreen title="Como fazer RPD"></iframe>
				</div>
			</div>
			<!-- Conte√∫do Expans√≠vel: Distor√ß√µes -->
			<div id="distorcoes-expansion" class="expansible-content">
				<p> As distor√ß√µes cognitivas s√£o padr√µes de pensamento que podem distorcer a realidade, levando a interpreta√ß√µes negativas ou irreais das situa√ß√µes. </p>
				<p> Exemplos: Catastrofiza√ß√£o (imaginar o pior cen√°rio) e Supergeneraliza√ß√£o (conclus√µes amplas a partir de um √∫nico evento). Reconhecer estes padr√µes ajuda a cultivar o autoconhecimento. </p>
			</div>
		</section>
		<!-- Formul√°rio RPD -->
		<section class="form-rpd">
			<h2>Preencha seu RPD</h2>
			<form id="rpd-form">
				<label for="nome">Nome Completo:</label>
				<input type="text" id="nome" name="nome" placeholder="Digite seu nome completo" required />
				<label for="data">Data de Preenchimento:</label>
				<input type="date" id="data" name="data" required />
				<label for="situacao">1. Situa√ß√£o:</label>
				<input type="text" id="situacao" name="situacao" placeholder="O que desencadeou essa emo√ß√£o?" required />
				<label for="emocoes">2. Emo√ß√µes:</label>
				<p>Clique para selecionar as emo√ß√µes que melhor representam o que voc√™ sentiu.</p>
				<button type="button" id="btn-emocoes" class="button-padrao btn-emocoes"> Escolher Emo√ß√µes </button>
				<div id="emocoes-container" style="display: none; margin-top: 10px;">
					<p>üìå Marque todas as emo√ß√µes que voc√™ sentiu:</p>
					<div id="emocoes" style="display: flex; flex-wrap: wrap; gap: 10px;">
						<label><input type="checkbox" name="emocoes" value="Ansiedade" /> üòü Ansiedade</label>
						<label><input type="checkbox" name="emocoes" value="Tristeza" /> üò¢ Tristeza</label>
						<label><input type="checkbox" name="emocoes" value="Raiva" /> üò° Raiva</label>
						<label><input type="checkbox" name="emocoes" value="Culpa" /> üòî Culpa</label>
						<label><input type="checkbox" name="emocoes" value="Medo" /> üò® Medo</label>
						<label><input type="checkbox" name="emocoes" value="Vergonha" /> üò≥ Vergonha</label>
						<label><input type="checkbox" name="emocoes" value="Euforia" /> üòÉ Euforia</label>
						<label><input type="checkbox" name="emocoes" value="Frustra√ß√£o" /> üòû Frustra√ß√£o</label>
						<label><input type="checkbox" name="emocoes" value="Inseguran√ßa" /> üòì Inseguran√ßa</label>
						<label><input type="checkbox" name="emocoes" value="Des√¢nimo" /> üò© Des√¢nimo</label>
						<label><input type="checkbox" name="emocoes" value="Outra" /> ‚ùì Outra</label>
					</div>
				</div>
				<p id="emocoes-selecionadas" style="margin-top: 10px; font-weight: bold;"></p>
				<label for="emocaoAntes">3. Intensidade da Emo√ß√£o Antes:</label>
				<p>Ajuste a barra para refletir o quanto a emo√ß√£o foi intensa (0-100):</p>
				<input type="range" id="emocaoAntes" name="emocaoAntes" min="0" max="100" value="50" class="slider" />
				<span id="slider-value-antes" class="slider-value">50</span>
				<label for="pensamento">4. Pensamento Autom√°tico:</label>
				<input type="text" id="pensamento" name="pensamento" placeholder="Que ideia veio √† sua mente imediatamente nessa situa√ß√£o?" required />
				<label for="distorcao">5. Distor√ß√£o Cognitiva:</label>
				<p>Se esse pensamento fosse um erro de l√≥gica, qual seria? Escolha a mais pr√≥xima.</p>
				<select id="distorcao" name="distorcao" required>
					<option value="">Selecione uma op√ß√£o</option>
					<option value="Catastrofiza√ß√£o">Catastrofiza√ß√£o (imaginar o pior cen√°rio poss√≠vel)</option>
					<option value="Supergeneraliza√ß√£o">Supergeneraliza√ß√£o (tirar conclus√µes amplas a partir de um √∫nico evento)</option>
					<option value="Leitura Mental">Leitura Mental (acreditar que sabe o que os outros est√£o pensando)</option>
					<option value="Personaliza√ß√£o">Personaliza√ß√£o (assumir responsabilidade excessiva por eventos)</option>
					<option value="Vis√£o em tudo ou nada">Vis√£o em tudo ou nada (pensamento extremista, "tudo ou nada")</option>
					<option value="Desqualifica√ß√£o do positivo">Desqualifica√ß√£o do positivo (minimizar ou ignorar os aspectos positivos)</option>
					<option value="Racioc√≠nio Emocional">Racioc√≠nio Emocional (acreditar que sua emo√ß√£o reflete a realidade)</option>
					<option value="Rotula√ß√£o">Rotula√ß√£o (definir a si mesmo ou aos outros com base em um √∫nico evento)</option>
					<option value="Filtro Mental">Filtro Mental (focar apenas nos aspectos negativos e ignorar os positivos)</option>
				</select>
				<label for="q1">6. O que faz voc√™ acreditar que as coisas s√£o assim?</label>
				<input type="text" id="q1" name="q1" placeholder="Explique a raz√£o por tr√°s deste pensamento" required />
				<label for="q6">7. Se outra pessoa estivesse no seu lugar, ela pensaria da mesma forma?</label>
				<input type="text" id="q6" name="q6" placeholder="Imagine um(a) amigo(a) nessa situa√ß√£o" required />
				<label for="q7">8. Esse pensamento √© um fato ou interpreta√ß√£o?</label>
				<input type="text" id="q7" name="q7" placeholder="Diferencie se √© algo comprovado ou percep√ß√£o" required />
				<label for="q4">9. Esse pensamento ajuda ou atrapalha?</label>
				<input type="text" id="q4" name="q4" placeholder="√â √∫til ou prejudicial?" required />
				<label for="q8">10. Se voc√™ n√£o tivesse esse pensamento, o que mudaria?</label>
				<input type="text" id="q8" name="q8" placeholder="Como se sentiria sem este pensamento?" required />
				<label for="q5">11. Como pensar de forma mais √∫til sobre isso?</label>
				<input type="text" id="q5" name="q5" placeholder="Sugira uma alternativa mais construtiva" required />
				<label for="q2">12. Como voc√™ se sente agora?</label>
				<input type="text" id="q2" name="q2" placeholder="Descreva seu estado emocional atual" required />
				<label for="emocaoDepois">13. Intensidade da Emo√ß√£o Depois:</label>
				<input type="range" id="emocaoDepois" name="emocaoDepois" min="0" max="100" value="50" class="slider" />
				<span id="slider-value-depois" class="slider-value">50</span>
				<!-- Cont√™iner para centralizar os bot√µes (Enviar e Salvar PDF) -->
				<div class="submit-buttons-container">
					<button type="button" id="whatsapp-btn" class="submit-btn"> üì≤ Enviar resultado ao meu Psic√≥logo </button>
					<button type="button" id="pdf-btn" class="submit-btn"> üìÑ Salvar como PDF </button>
				</div>
			</form>
		</section>
		<!-- Se√ß√£o "Converse Comigo" -->
		<section class="converse-section">
			<h2>Converse Comigo</h2>
			<p> √Äs vezes, precisamos compartilhar nossos desafios para alcan√ßar mais clareza e bem-estar. Se quiser me contar o que est√° passando, envie uma mensagem diretamente. Assim que poss√≠vel, responderei e podemos dialogar em busca de novas perspectivas. </p>
			<form id="chat-form">
				<label for="chat-nome">Nome Completo:</label>
				<input type="text" id="chat-nome" name="chat-nome" placeholder="Digite seu nome completo" required />
				<label for="chat-telefone">Telefone:</label>
				<input type="text" id="chat-telefone" name="chat-telefone" placeholder="(XX) XXXXX-XXXX" required />
				<label for="chat-msg">Sua Mensagem:</label>
				<textarea id="chat-msg" name="chat-msg" placeholder="Descreva brevemente o que deseja compartilhar." rows="4" required></textarea>
				<button type="button" id="btn-chat">Enviar Mensagem</button>
			</form>
		</section>
	</main>
	<!-- Rodap√© -->
	<footer>
		<p>¬© 2025 Richelmy Murta, Psic√≥logo Cl√≠nico</p>
		<p>Especialista em Terapia Cognitivo-Comportamental</p>
	</footer>
	<!-- Bot√µes Flutuantes -->
	<div class="floating-whatsapp" id="floating-wpp-share" title="Compartilhe esta p√°gina com algu√©m que precise dessa ferramenta" aria-label="Compartilhar p√°gina via WhatsApp">
		<img src="https://cdn-icons-png.flaticon.com/512/3670/3670051.png" alt="√çcone WhatsApp" style="width:28px; height:28px;" />
	</div>
	<div class="floating-panic" id="floating-panic" title="Precisa de ajuda? Clique para falar com o CVV" aria-label="Bot√£o de P√¢nico - CVV">
		<span>!</span>
	</div>
	<!-- √Åudio Fixo -->
	<div id="audio-container">
		<button id="toggle-audio">üîä</button>
	</div>
	<audio id="background-audio" loop>
		<source src="https://www.soundjay.com/nature/sounds/rain-02.mp3" type="audio/mpeg" /> Seu navegador n√£o suporta √°udio.
	</audio>
	<!-- JavaScript (ES6+) -->
	<script>
		document.addEventListener("DOMContentLoaded", () => {
		  // REMO√á√ÉO DO SPLASH SCREEN
		  const splash = document.getElementById("splash-screen");
		  setTimeout(() => {
		    if (splash) {
		      splash.classList.add("fade-out");
		      splash.addEventListener("transitionend", () => splash.remove());
		    }
		  }, 2000);
		
		  // FUN√á√ÉO DE TOGGLE COM GSAP
		  const toggleDisplay = (element) => {
		    if (!element) return;
		    if (element.style.display === "block") {
		      gsap.to(element, {
		        opacity: 0,
		        duration: 0.4,
		        onComplete: () => (element.style.display = "none"),
		      });
		    } else {
		      element.style.display = "block";
		      gsap.fromTo(element, { opacity: 0 }, { opacity: 1, duration: 0.4 });
		    }
		  };
		
		  // Bot√µes expans√≠veis para RPD e Distor√ß√µes
		  const btnRpd = document.getElementById("btn-rpd");
		  const rpdExpansion = document.getElementById("rpd-expansion");
		  if (btnRpd && rpdExpansion) {
		    btnRpd.addEventListener("click", () => toggleDisplay(rpdExpansion));
		  }
		  const btnDistorcoes = document.getElementById("btn-distorcoes");
		  const distExpansion = document.getElementById("distorcoes-expansion");
		  if (btnDistorcoes && distExpansion) {
		    btnDistorcoes.addEventListener("click", () => toggleDisplay(distExpansion));
		  }
		
		  // Exibi√ß√£o da caixa de sele√ß√£o de emo√ß√µes
		  const btnEmocoes = document.getElementById("btn-emocoes");
		  const containerEmocoes = document.getElementById("emocoes-container");
		  if (btnEmocoes && containerEmocoes) {
		    btnEmocoes.addEventListener("click", () => toggleDisplay(containerEmocoes));
		  }
		
		  // Atualiza√ß√£o dos valores dos sliders via JavaScript
		  const sliderAntes = document.getElementById("emocaoAntes");
		  const sliderValueAntes = document.getElementById("slider-value-antes");
		  if (sliderAntes && sliderValueAntes) {
		    sliderAntes.addEventListener("input", () => {
		      sliderValueAntes.textContent = sliderAntes.value;
		    });
		  }
		  const sliderDepois = document.getElementById("emocaoDepois");
		  const sliderValueDepois = document.getElementById("slider-value-depois");
		  if (sliderDepois && sliderValueDepois) {
		    sliderDepois.addEventListener("input", () => {
		      sliderValueDepois.textContent = sliderDepois.value;
		    });
		  }
		
		  // Atualiza√ß√£o das emo√ß√µes selecionadas
		  document.querySelectorAll('input[name="emocoes"]').forEach((checkbox) => {
		    checkbox.addEventListener("change", () => {
		      const selecionadas = Array.from(document.querySelectorAll('input[name="emocoes"]:checked')).map(el => el.value);
		      document.getElementById("emocoes-selecionadas").innerText =
		        "Emo√ß√µes selecionadas: " + (selecionadas.length ? selecionadas.join(", ") : "Nenhuma");
		    });
		  });
		
		  // Controle do √°udio de fundo
		  const backgroundAudio = document.getElementById("background-audio");
		  const toggleAudioBtn = document.getElementById("toggle-audio");
		  backgroundAudio.volume = 0.12;
		  document.addEventListener("click", () => {
		    if (backgroundAudio.paused) {
		      backgroundAudio.play().catch(() => console.log("Reprodu√ß√£o de √°udio bloqueada."));
		    }
		  }, { once: true });
		  if (toggleAudioBtn) {
		    toggleAudioBtn.addEventListener("click", () => {
		      if (backgroundAudio.paused) {
		        backgroundAudio.play();
		        toggleAudioBtn.textContent = "üîá";
		      } else {
		        backgroundAudio.pause();
		        toggleAudioBtn.textContent = "üîä";
		      }
		    });
		  }
		
		  // √Åudio Explicativo
		  const audioExpBtn = document.getElementById("btn-audio");
		  const audioRPD = document.getElementById("audioRPD");
		  if (audioExpBtn && audioRPD) {
		    audioExpBtn.addEventListener("click", () => {
		      audioRPD.paused ? audioRPD.play() : audioRPD.pause();
		    });
		  }
		
		  // Envio via WhatsApp (RPD)
		  const sendWhatsAppMessage = () => {
		    const nome = document.getElementById("nome").value || "Sem Nome";
		    const data = document.getElementById("data").value || "Sem Data";
		    const situacao = document.getElementById("situacao").value || "N√£o informado";
		    const emocoes = Array.from(document.querySelectorAll('input[name="emocoes"]:checked'))
		                      .map(el => el.value)
		                      .join(", ") || "N√£o informado";
		    const pensamento = document.getElementById("pensamento").value || "N√£o informado";
		    const distorcao = document.getElementById("distorcao").value || "N√£o informado";
		    const emocaoDepois = document.getElementById("emocaoDepois").value;
		    const reflexoes = [
		      `1. O que faz voc√™ acreditar que as coisas s√£o assim? ${document.getElementById("q1").value || "N√£o informado"}`,
		      `2. Se outra pessoa estivesse no seu lugar, ela pensaria da mesma forma? ${document.getElementById("q6").value || "N√£o informado"}`,
		      `3. √â um fato ou interpreta√ß√£o? ${document.getElementById("q7").value || "N√£o informado"}`,
		      `4. Isso ajuda ou atrapalha? ${document.getElementById("q4").value || "N√£o informado"}`,
		      `5. Se n√£o tivesse esse pensamento, o que mudaria? ${document.getElementById("q8").value || "N√£o informado"}`,
		      `6. Como pensar de forma mais √∫til? ${document.getElementById("q5").value || "N√£o informado"}`,
		      `7. Como voc√™ se sente agora? ${document.getElementById("q2").value || "N√£o informado"}`
		    ].join("%0A");
		    const message = `Nome: ${nome}%0AData: ${data}%0ASitua√ß√£o: ${situacao}%0AEmo√ß√µes: ${emocoes}%0APensamento: ${pensamento}%0ADistor√ß√£o: ${distorcao}%0AIntensidade Depois: ${emocaoDepois}/100%0A%0A**Reflex√µes:**%0A${reflexoes}`;
		    const whatsappUrl = `https://api.whatsapp.com/send?phone=+5535984640729&text=${message}`;
		    window.open(whatsappUrl, "_blank");
		  };
		  const whatsBtn = document.getElementById("whatsapp-btn");
		  if (whatsBtn) whatsBtn.addEventListener("click", sendWhatsAppMessage);
		
		  // Salvar como PDF
		  const saveAsPDF = () => {
		    if (!window.jspdf) {
		      alert("Erro ao carregar a biblioteca jsPDF. Verifique a conex√£o com a internet.");
		      return;
		    }
		    const { jsPDF } = window.jspdf;
		    const doc = new jsPDF({ format: "a4", orientation: "portrait" });
		
		    // Cabe√ßalho e Introdu√ß√£o
		    doc.setFont("Arial", "bold");
		    doc.setFontSize(14);
		    doc.text("REGISTRO DE PENSAMENTOS DISFUNCIONAIS", 105, 20, { align: "center" });
		    doc.setFontSize(12);
		    doc.setFont("Arial", "normal");
		    doc.text("Este registro ajuda a compreender como seus pensamentos influenciam suas emo√ß√µes e comportamentos.", 20, 30, { maxWidth: 170, align: "justify" });
		    
		    let y = 50;
		    const campos = [
		      { label: "Nome:", value: document.getElementById("nome").value || "Sem Nome" },
		      { label: "Data:", value: document.getElementById("data").value || "Sem Data" },
		      { label: "Situa√ß√£o:", value: document.getElementById("situacao").value || "N√£o informado" },
		      { label: "Emo√ß√µes:", value: (Array.from(document.querySelectorAll('input[name="emocoes"]:checked')).map(el => el.value).join(", ")) || "N√£o informado" },
		      { label: "Pensamento Autom√°tico:", value: document.getElementById("pensamento").value || "N√£o informado" },
		      { label: "Distor√ß√£o Cognitiva:", value: document.getElementById("distorcao").value || "N√£o informado" }
		    ];
		    campos.forEach((campo) => {
		      doc.setFont("Arial", "bold");
		      doc.text(campo.label, 20, y);
		      doc.setFont("Arial", "normal");
		      doc.text(doc.splitTextToSize(campo.value, 140), 70, y);
		      y += 10;
		    });
		
		    y += 10;
		    doc.setFont("Arial", "bold");
		    doc.text("Reflex√µes:", 20, y);
		    y += 10;
		    doc.setFont("Arial", "normal");
		    doc.text("As perguntas a seguir ajudam voc√™ a desafiar seus pensamentos.", 20, y, { maxWidth: 170, align: "justify" });
		    y += 10;
		
		    const reflexoesData = [
		      { pergunta: "1. O que faz voc√™ acreditar que as coisas s√£o assim?", resposta: document.getElementById("q1").value || "N√£o informado" },
		      { pergunta: "2. Se outra pessoa estivesse no seu lugar, ela pensaria da mesma forma?", resposta: document.getElementById("q6").value || "N√£o informado" },
		      { pergunta: "3. √â um fato ou interpreta√ß√£o?", resposta: document.getElementById("q7").value || "N√£o informado" },
		      { pergunta: "4. Isso ajuda ou atrapalha?", resposta: document.getElementById("q4").value || "N√£o informado" },
		      { pergunta: "5. Se n√£o tivesse esse pensamento, o que mudaria?", resposta: document.getElementById("q8").value || "N√£o informado" },
		      { pergunta: "6. Como pensar de forma mais √∫til?", resposta: document.getElementById("q5").value || "N√£o informado" },
		      { pergunta: "7. Como voc√™ se sente agora?", resposta: document.getElementById("q2").value || "N√£o informado" }
		    ];
		    reflexoesData.forEach((reflexao) => {
		      doc.setFont("Arial", "bold");
		      doc.text(reflexao.pergunta, 20, y);
		      y += 6;
		      doc.setFont("Arial", "normal");
		      const formattedResponse = doc.splitTextToSize(reflexao.resposta, 160);
		      doc.text(formattedResponse, 20, y);
		      y += formattedResponse.length * 6 + 4;
		    });
		
		    y += 20;
		    doc.setFont("Arial", "bold");
		    doc.text("Parab√©ns por concluir esta atividade!", 20, y);
		    y += 10;
		    doc.setFont("Arial", "normal");
		    doc.text("Desejo que este exerc√≠cio traga clareza e fortale√ßa seus recursos internos.", 20, y, { maxWidth: 170, align: "justify" });
		
		    y += 30;
		    doc.setFont("Arial", "bold");
		    doc.text("Richelmy Murta Pinto", 105, y, { align: "center" });
		    doc.setFont("Arial", "normal");
		    doc.text("Psic√≥logo Cl√≠nico", 105, y + 8, { align: "center" });
		    doc.text("Especialista em Terapia Cognitivo-Comportamental", 105, y + 16, { align: "center" });
		
		    doc.save(`RPD_${document.getElementById("nome").value || "Sem_Nome"}_${document.getElementById("data").value || "Sem_Data"}.pdf`);
		  };
		  const pdfBtn = document.getElementById("pdf-btn");
		  if (pdfBtn) pdfBtn.addEventListener("click", saveAsPDF);
		
		  // Compartilhar via WhatsApp - bot√£o fixo
		  const wppShare = document.getElementById("floating-wpp-share");
		  if (wppShare) {
		    wppShare.addEventListener("click", () => {
		      const textShare = "Ol√°! Encontrei esta ferramenta de Registro de Pensamentos Disfuncionais (RPD) que pode ajudar muito. Confira!";
		      const pageUrl = encodeURIComponent(window.location.href);
		      const shareUrl = `https://api.whatsapp.com/send?text=${encodeURIComponent(textShare)}%20${pageUrl}`;
		      window.open(shareUrl, "_blank");
		    });
		  }
		
		  // Bot√£o de P√¢nico (CVV)
		  const panicBtn = document.getElementById("floating-panic");
		  if (panicBtn) {
		    panicBtn.addEventListener("click", () => {
		      window.open("https://cvv.org.br/", "_blank");
		    });
		  }
		
		  // Formul√°rio "Converse Comigo" - Envio via WhatsApp
		  const btnChat = document.getElementById("btn-chat");
		  if (btnChat) {
		    btnChat.addEventListener("click", () => {
		      const nomeChat = document.getElementById("chat-nome").value.trim();
		      const telChat = document.getElementById("chat-telefone").value.trim();
		      const msgChat = document.getElementById("chat-msg").value.trim();
		      if (!nomeChat || !telChat || !msgChat) {
		        alert("Por favor, preencha seu nome, telefone e mensagem.");
		        return;
		      }
		      const messageToSend = `Ol√°, meu nome √© ${nomeChat} (tel: ${telChat}).\n\n${msgChat}`;
		      const whatsappUrl = `https://api.whatsapp.com/send?phone=+5535984640729&text=${encodeURIComponent(messageToSend)}`;
		      window.open(whatsappUrl, "_blank");
		    });
		  }
		});
	</script>
</body>

</html>
